# =y required as compiled in
# =m required as a module
# =x either is fine
# =n Must not be included

######## Driver frameworks required on all hardware:
CONFIG_SPI_SPIDEV=x
CONFIG_USB_ACM=x
CONFIG_USB_SERIAL_FTDI_SIO=x

######## Debug options:
CONFIG_LOCKDEP=n
CONFIG_DEBUG_INFO=n
CONFIG_RUNTIME_TESTING_MENU=n
CONFIG_DEBUG_MISC=n
CONFIG_MAGIC_SYSRQ_DEFAULT_ENABLE=n

######## Systemd requirements:
CONFIG_DEVTMPFS=x
CONFIG_CGROUPS=x
CONFIG_INOTIFY_USER=x
CONFIG_SIGNALFD=x
CONFIG_TIMERFD=x
CONFIG_EPOLL=x
CONFIG_UNIX =x
CONFIG_SYSFS=x
CONFIG_PROC_FS=x
CONFIG_FHANDLE=x

######## Systemd Optional:
#CONFIG_DMIID=x SMBIOS thing, we dont need thsi
CONFIG_BLK_DEV_BSG=x
CONFIG_NET_NS=x
CONFIG_USER_NS=x
CONFIG_IPV6=x
CONFIG_AUTOFS_FS=x
CONFIG_TMPFS_XATTR=x
CONFIG_TMPFS_POSIX_ACL=x
CONFIG_EXT4_FS_POSIX_ACL=x
CONFIG_SECCOMP=x
CONFIG_SECCOMP_FILTER=x
CONFIG_CHECKPOINT_RESTORE=x
CONFIG_CGROUP_SCHED=x
CONFIG_FAIR_GROUP_SCHED=x
CONFIG_CFS_BANDWIDTH=x
CONFIG_BPF=x
CONFIG_BPF_SYSCALL=x
CONFIG_BPF_JIT=x
CONFIG_HAVE_EBPF_JIT=x
CONFIG_CGROUP_BPF=x
CONFIG_BPF=x
CONFIG_BPF_SYSCALL=x
CONFIG_BPF_JIT=x
CONFIG_HAVE_EBPF_JIT=x
CONFIG_CGROUP_BPF=x
CONFIG_EFIVAR_FS=x
CONFIG_EFI_PARTITION=x
# Skipping verity thinsg
#CONFIG_DM_VERITY_VERIFY_ROOTHASH_SIG=x
#CONFIG_DM_VERITY_VERIFY_ROOTHASH_SIG_SECONDARY_KEYRING=x
#CONFIG_IMA_ARCH_POLICY=x
# Skipping these because they require expensive tracing to be enabled
#CONFIG_BPF=x
#CONFIG_BPF_SYSCALL=x
#CONFIG_BPF_LSM=x
#CONFIG_DEBUG_INFO_BTF=x
CONFIG_PSI=x
CONFIG_RT_GROUP_SCHED=n
CONFIG_AUDIT=n
CONFIG_SYSFS_DEPRECATED=n
CONFIG_FW_LOADER_USER_HELPER=n

######## NFS root requirements:
CONFIG_ROOT_NFS=y
CONFIG_NFS_V3=y
CONFIG_NFS_V2=y
CONFIG_NFS_DISABLE_UDP_SUPPORT=y
CONFIG_IP_PNP_DHCP=y
# Skipped because its huge
CONFIG_NFS_V4=n

######## Docker requirements:
CONFIG_NAMESPACES=x
CONFIG_NET_NS=x
CONFIG_PID_NS=x
CONFIG_IPC_NS=x
CONFIG_UTS_NS=x
CONFIG_CGROUPS=x
CONFIG_CGROUP_CPUACCT=x
CONFIG_CGROUP_DEVICE=x
CONFIG_CGROUP_FREEZER=x
CONFIG_CGROUP_SCHED=x
# We do want this, but it wont exist on our configs without smp
#CONFIG_CPUSETS=x
CONFIG_MEMCG=x
CONFIG_KEYS=x
CONFIG_VETH=x
CONFIG_BRIDGE=x
CONFIG_BRIDGE_NETFILTER=x
CONFIG_IP_NF_FILTER=x
CONFIG_IP_NF_TARGET_MASQUERADE=x
CONFIG_NETFILTER_XT_MATCH_ADDRTYPE=x
CONFIG_NETFILTER_XT_MATCH_CONNTRACK=x
CONFIG_NETFILTER_XT_MATCH_IPVS=x
CONFIG_NETFILTER_XT_MARK=x
CONFIG_IP_NF_NAT=x
CONFIG_NF_NAT=x
CONFIG_POSIX_MQUEUE=x

######## Docker Optional:
CONFIG_USER_NS=x
CONFIG_SECCOMP=x
CONFIG_SECCOMP_FILTER=x
CONFIG_CGROUP_PIDS=x
CONFIG_MEMCG_SWAP=x
CONFIG_EXT4_FS=x
CONFIG_EXT4_FS_POSIX_ACL=x
CONFIG_EXT4_FS_SECURITY=x
CONFIG_BRIDGE_VLAN_FILTERING=x
CONFIG_VXLAN=x
CONFIG_CRYPTO=x
CONFIG_CRYPTO_AEAD=x
CONFIG_CRYPTO_GCM=x
CONFIG_CRYPTO_SEQIV=x
CONFIG_CRYPTO_GHASH=x
CONFIG_XFRM=x
CONFIG_XFRM_USER=x
CONFIG_XFRM_ALGO=x
CONFIG_INET_ESP=x
CONFIG_IPVLAN=x
CONFIG_MACVLAN=x
CONFIG_DUMMY=x
CONFIG_NF_NAT_FTP=x
CONFIG_NF_CONNTRACK_FTP=x
CONFIG_NF_NAT_TFTP=x
CONFIG_NF_CONNTRACK_TFTP=x
CONFIG_BLK_DEV_DM=x
CONFIG_DM_THIN_PROVISIONING=x
CONFIG_OVERLAY_FS=x

######## Common customer requirements:
CONFIG_CAN_J1939=x
CONFIG_PTP_1588_CLOCK=x
CONFIG_NETFILTER=x
CONFIG_IPV6=y
#Cell modems:
CONFIG_PPP=m
CONFIG_PPP_BSDCOMP=m
CONFIG_PPP_DEFLATE=m
CONFIG_PPP_FILTER=y
CONFIG_PPP_MPPE=m
CONFIG_PPP_MULTILINK=y
CONFIG_PPPOE=m
CONFIG_PPPOL2TP=m
CONFIG_PPP_ASYNC=m
CONFIG_PPP_SYNC_TTY=m
CONFIG_USB_NET_CDCETHER=m
CONFIG_USB_NET_CDC_NCM=m
CONFIG_USB_NET_QMI_WWAN=m

# Needed for WILC3000 correct operation!
# With powersaving enabled, BLE is completely broken, while Wi-Fi will show
# strange hiccups and subtle breakages sometimes.
CONFIG_CFG80211_DEFAULT_PS=n
